<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link rel="stylesheet" href="style.css" />
<title>JSON-SIMPLE (API)</title>
</head>
<body>
<br>
<h2
style="text-align: center;color:#76448A;margin-top: 5px;">
- JSON-SIMPLE (API) -<br>
<p style="color:#DC7633;font-size:20px">https://restcountries.com/v2/all/</p></h2>

<div>
<div id="header">

    <select class="selector" onchange="getch(this.value)">  </select>
</div></div><br><div> </div></div></div>


<div id="country">

</div><br>
</div>



<script>
let header = document.getElementById("header");
let country = document.getElementById("country");

let finalUrl = `https://restcountries.com/v2/all/`;

fetch(finalUrl).then((response) => response.json()).then((data) => {

    header.innerHTML += `
    
    <select class="selector" onchange="getch(this.value)">

        <option class="option">Select Any Country </option>
        ${data.map(data => `<option class="option">${data.name}</option>`)}

        </select>`


});


function getch(e) {
    let finalUrls = `https://restcountries.com/v3.1/name/${e}?fullText=true`;


    fetch(finalUrls).then((response) => response.json()).then((data) => {

        country.innerHTML = `


<div class="container">
<img src="${data[0].flags.svg}" class="img">


<div class="details"><img src="./img/language.png" style="width:40px;height:40px">
<h3 style="color:#5B2C6F;padding:10px">اللغة الأم</h3><h3 style="color:#000;padding:10px">${Object.values(data[0].languages).toString().split(",").join(",")}</h3>

</div>

<div class="details"><img src="./img/currency-.png" style="width:40px;height:40px">
<h3 style="color:#5B2C6F;padding:10px">العملة الرسمية</h3><h3 style="color:#000;padding:10px">${data[0].currencies[Object.keys(data[0].currencies)].name}-${Object.keys(data[0].currencies)[0]}</h3>

</div>



<div class="details"><img src="./img/capital.png" style="width:40px;height:40px">
<h3 style="color:#5B2C6F;padding:10px">العاصمة</h3><h3 style="color:#000;padding:10px">${data[0].capital[0]}</h3>


</div>

<div class="details"><img src="./img/people.png" style="width:40px;height:40px">
<h3 style="color:#5B2C6F;padding:10px">عدد السكان</h3><h3 style="color:#000;padding:10px">${data[0].population}</h3>


</div>

<div class="details"><img src="./img/location.png" style="width:40px;height:40px">
<h3 style="color:#5B2C6F;padding:10px">القارة</h3><h3 style="color:#000;padding:10px">${data[0].continents[0]}</h3>


</div>


</div>
`;

    })
}
</script>
</body>

</html>